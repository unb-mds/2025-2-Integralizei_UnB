# API

Testamos a [API do trabalho SuaGradeUnB](https://api.suagradeunb.com.br/), que contém dados do sigaa que vão ser úteis ao nosso projeto, com um codigo simples para busca de turmas disponíveis em determinado período. Para utilizar a API, nessa fase de teste, basta fazer um código em python, colocando a url do site no base_url. Antes de rodar, atualizar o banco de dados com o comando escrito no readme da [página do projeto no github.](https://github.com/unb-mds/2023-2-SuaGradeUnB)

exemplo:

```python
import requests

BASE_URL = "https://api.suagradeunb.com.br/"

def buscar_disciplina(codigo, ano, periodo):
    
    url = f"{BASE_URL}courses/"
    params = {
        "search": codigo,
        "year": ano,
        "period": periodo
    }
    
    response = requests.get(url, params=params)
    
    if response.status_code == 200:
        data = response.json()
        if data:
            return data
        else:
            print("Nenhuma disciplina encontrada.")
            return None
    else:
        print(f"Erro {response.status_code}: {response.text}")
        return None

if __name__ == "__main__":
    
    codigo = "MAT0027"
    ano = 2025
    periodo = 2

    resultado = buscar_disciplina(codigo, ano, periodo)

    if resultado:
        print("Disciplinas encontradas:")
        for d in resultado:
            print(d)

```

saída:

`Disciplinas encontradas:
{'id': 26628, 'department': {'id': 1111, 'code': '518', 'year': '2025', 'period': '2'}, 'classes': [{'id': 2147759, 'teachers': ['LUIZ CLAUDIO PEREIRA'], 'classroom': 'FUP', 'schedule': '2M1234 4M12', 'days': ['Segunda-feira 08:00 às 11:50', 'Quarta-feira 08:00 às 09:50'], '_class': '01', 'special_dates': [['18/08/2025 - 15/12/2025', '1', '2']], 'discipline': 26628}, {'id': 2147760, 'teachers': ['PAULO HENRIQUE PEREIRA DA COSTA'], 'classroom': 'ICC BT 027', 'schedule': '235M34', 'days': ['Segunda-feira 10:00 às 11:50', 'Terça-feira 10:00 às 11:50', 'Quinta-feira 10:00 às 11:50'], '_class': '02', 'special_dates': [['18/08/2025 - 15/12/2025', '1', '1']], 'discipline': 26628}, {'id': 2147761, 'teachers': ['A definir'], 'classroom': 'ICC ANF. 8', 'schedule': '356M12', 'days': ['Terça-feira 08:00 às 09:50', 'Quinta-feira 08:00 às 09:50', 'Sexta-feira 08:00 às 09:50'], '_class': '03', 'special_dates': [['18/08/2025 - 15/12/2025', '1', '1']], 'discipline': 26628}, {'id': 2147762, 'teachers': ['MATEUS FIGUEIREDO DE SOUZA'], 'classroom': 'ICC ANF. 6', 'schedule': '356M12', 'days': ['Terça-feira 08:00 às 09:50', 'Quinta-feira 08:00 às 09:50', 'Sexta-feira 08:00 às 09:50'], '_class': '04', 'special_dates': [['18/08/2025 - 15/12/2025', '1', '1']], 'discipline': 26628}, {'id': 2147763, 'teachers': ['ADAIL DE CASTRO CAVALHEIRO'], 'classroom': '2M34(ICC ANF.14) 35M34(ICC ANF. 8)', 'schedule': '235M34', 'days': ['Segunda-feira 10:00 às 11:50', 'Terça-feira 10:00 às 11:50', 'Quinta-feira 10:00 às 11:50'], '_class': '05', 'special_dates': [['18/08/2025 - 15/12/2025', '1', '1']], 'discipline': 26628}, {'id': 2147764, 'teachers': ['ANDRE CALDAS DE SOUZA'], 'classroom': 'ICC ANF.14', 'schedule': '246T23', 'days': ['Segunda-feira 14:00 às 15:50', 'Quarta-feira 14:00 às 15:50', 'Sexta-feira 14:00 às 15:50'], '_class': '06', 'special_dates': [['18/08/2025 - 15/12/2025', '1', '1']], 'discipline': 26628}, {'id': 2147765, 'teachers': ['PEDRO ROITMAN'], 'classroom': 'ICC ANF. 8', 'schedule': '246T23', 'days': ['Segunda-feira 14:00 às 15:50', 'Quarta-feira 14:00 às 15:50', 'Sexta-feira 14:00 às 15:50'], '_class': '07', 'special_dates': [['18/08/2025 - 15/12/2025', '1', '1']], 'discipline': 26628}, {'id': 2147766, 'teachers': ['VICTOR PETROGRADSKIY'], 'classroom': 'ICC ANF.11', 'schedule': '356M12', 'days': ['Terça-feira 08:00 às 09:50', 'Quinta-feira 08:00 às 09:50', 'Sexta-feira 08:00 às 09:50'], '_class': '08', 'special_dates': [['18/08/2025 - 15/12/2025', '1', '1']], 'discipline': 26628}, {'id': 2147767, 'teachers': ['JULIA AREDES DE ALMEIDA'], 'classroom': 'ICC ANF.13', 'schedule': '356M12', 'days': ['Terça-feira 08:00 às 09:50', 'Quinta-feira 08:00 às 09:50', 'Sexta-feira 08:00 às 09:50'], '_class': '09', 'special_dates': [['18/08/2025 - 15/12/2025', '1', '1']], 'discipline': 26628}, {'id': 2147768, 'teachers': ['ANDRE CALDAS DE SOUZA'], 'classroom': 'ICC ANF.18', 'schedule': '2N12 35N34', 'days': ['Segunda-feira 19:00 às 20:40', 'Terça-feira 20:50 às 22:30', 'Quinta-feira 20:50 às 22:30'], '_class': '10', 'special_dates': [['18/08/2025 - 15/12/2025', '1', '2']], 'discipline': 26628}, {'id': 2147769, 'teachers': ['VINICIUS DE CARVALHO RISPOLI'], 'classroom': 'FCTE - I9', 'schedule': '235T45', 'days': ['Segunda-feira 16:00 às 17:50', 'Terça-feira 16:00 às 17:50', 'Quinta-feira 16:00 às 17:50'], '_class': '11', 'special_dates': [['18/08/2025 - 15/12/2025', '1', '1']], 'discipline': 26628}, {'id': 2147770, 'teachers': ['TATIANE DA SILVA EVANGELISTA'], 'classroom': 'FCTE - S4', 'schedule': '235M34', 'days': ['Segunda-feira 10:00 às 11:50', 'Terça-feira 10:00 às 11:50', 'Quinta-feira 10:00 às 11:50'], '_class': '12', 'special_dates': [['18/08/2025 - 15/12/2025', '1', '1']], 'discipline': 26628}], 'name': 'CÁLCULO 3', 'unicode_name': 'calculo 3', 'code': 'MAT0027'}`